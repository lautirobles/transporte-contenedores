spring.application.name=api-gateway
server.port=8080

# Rutas del Gateway
spring.cloud.gateway.routes[0].id=gestion-service
spring.cloud.gateway.routes[0].uri=http://gestion-service:8081
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/v1/gestion/**

spring.cloud.gateway.routes[1].id=logistica-service
spring.cloud.gateway.routes[1].uri=http://logistica-service:8082
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/v1/logistica/**

# Actuator
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always

# ==============================
# SOLO UNA CONFIGURACIÓN - ELIMINÁ LO DEMÁS
# ==============================

# Opción A: Si el Gateway maneja autenticación (TokenRelay)
spring.security.oauth2.client.registration.keycloak.client-id=transport-app
spring.security.oauth2.client.registration.keycloak.client-secret=
spring.security.oauth2.client.registration.keycloak.scope=openid,profile
spring.security.oauth2.client.provider.keycloak.issuer-uri=http://localhost:8888/realms/tpi-backend

# TokenRelay filter
spring.cloud.gateway.routes[1].filters[0]=TokenRelay
